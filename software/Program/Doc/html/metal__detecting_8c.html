<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.11.0"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Metal Detector: C:/Users/Viktor/Desktop/labaratorni/Projects/Metal_Detector/software/Program/SignalsProcessing/Src/metal_detecting.c File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="clipboard.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
  $(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Metal Detector
   </div>
  </td>
    <td>        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <span id="MSearchSelect"                onmouseover="return searchBox.OnSearchSelectShow()"                onmouseout="return searchBox.OnSearchSelectHide()">&#160;</span>
          <input type="text" id="MSearchField" value="" placeholder="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.svg" alt=""/></a>
          </span>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.11.0 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('metal__detecting_8c.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">metal_detecting.c File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Implementation file for metal detecting functionality.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="metal__detecting_8h_source.html">metal_detecting.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="app__signal_8h_source.html">app_signal.h</a>&quot;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad641611bcbbee40084a1c5c30d33ab6e" id="r_ad641611bcbbee40084a1c5c30d33ab6e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="metal__detecting_8h.html#ab4dd54490f480c0f6487e8aeb9feb640">MD_DetectStatus_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ad641611bcbbee40084a1c5c30d33ab6e">md_detect</a> (<a class="el" href="struct_m_d___handle__t.html">MD_Handle_t</a> *const handle, const <a class="el" href="struct_m_d___data__t.html">MD_Data_t</a> *const data, int16_t *const phase_difference)</td></tr>
<tr class="memdesc:ad641611bcbbee40084a1c5c30d33ab6e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Detects the presence of a target based on signal magnitude and phase difference.  <br /></td></tr>
<tr class="separator:ad641611bcbbee40084a1c5c30d33ab6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4a31b2be173316c368d393089d460359" id="r_a4a31b2be173316c368d393089d460359"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#a4a31b2be173316c368d393089d460359">md_set_gndbalance</a> (<a class="el" href="struct_m_d___handle__t.html">MD_Handle_t</a> *const handle, const uint16_t new_balance)</td></tr>
<tr class="memdesc:a4a31b2be173316c368d393089d460359"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the ground balance parameter for metal detection.  <br /></td></tr>
<tr class="separator:a4a31b2be173316c368d393089d460359"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac00d2a034daaedfecc56e4a3eae15c61" id="r_ac00d2a034daaedfecc56e4a3eae15c61"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="#ac00d2a034daaedfecc56e4a3eae15c61">md_set_sensitivity</a> (<a class="el" href="struct_m_d___handle__t.html">MD_Handle_t</a> *const handle, const uint16_t new_sens)</td></tr>
<tr class="memdesc:ac00d2a034daaedfecc56e4a3eae15c61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the sensitivity parameter for metal detection.  <br /></td></tr>
<tr class="separator:ac00d2a034daaedfecc56e4a3eae15c61"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a9e65d6e9a3e9d5cb967b7cacc048f8a8" id="r_a9e65d6e9a3e9d5cb967b7cacc048f8a8"><td class="memItemLeft" align="right" valign="top"><a id="a9e65d6e9a3e9d5cb967b7cacc048f8a8" name="a9e65d6e9a3e9d5cb967b7cacc048f8a8"></a>
<a class="el" href="struct_m_d___handle__t.html">MD_Handle_t</a>&#160;</td><td class="memItemRight" valign="bottom"><b>md_handle</b> = {0 }</td></tr>
<tr class="memdesc:a9e65d6e9a3e9d5cb967b7cacc048f8a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Global handle for metal detecting operations. <br /></td></tr>
<tr class="separator:a9e65d6e9a3e9d5cb967b7cacc048f8a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Implementation file for metal detecting functionality. </p>
<p>This file contains the implementation of functions for metal detecting. It includes functions for detecting targets based on signal magnitude and phase difference, as well as setting ground balance and sensitivity parameters.</p>
<p>Created on: Jul 23, 2024 Author: Viktor </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="ad641611bcbbee40084a1c5c30d33ab6e" name="ad641611bcbbee40084a1c5c30d33ab6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad641611bcbbee40084a1c5c30d33ab6e">&#9670;&#160;</a></span>md_detect()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="metal__detecting_8h.html#ab4dd54490f480c0f6487e8aeb9feb640">MD_DetectStatus_t</a> md_detect </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_d___handle__t.html">MD_Handle_t</a> *const</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="struct_m_d___data__t.html">MD_Data_t</a> *const</td>          <td class="paramname"><span class="paramname"><em>data</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16_t *const</td>          <td class="paramname"><span class="paramname"><em>phase_difference</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Detects the presence of a target based on signal magnitude and phase difference. </p>
<p>Detects the presence of a target based on signal data.</p>
<p>This function determines if a target is detected by comparing the current signal magnitude with a ground balance and sensitivity threshold. It also calculates the phase difference between the transmitted and received signals.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Pointer to the <a class="el" href="struct_m_d___handle__t.html" title="Structure to hold detection parameters and state.">MD_Handle_t</a> structure containing detection parameters. </td></tr>
    <tr><td class="paramname">data</td><td>Pointer to the <a class="el" href="struct_m_d___data__t.html" title="Structure to hold signal data for metal detection.">MD_Data_t</a> structure containing the received signal data. </td></tr>
    <tr><td class="paramname">phase_difference</td><td>Pointer to an integer where the calculated phase difference will be stored. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>MD_DetectStatus_t Detection status indicating whether a target was detected or not. </dd></dl>
<p>&lt; Default return value indicating no target detected</p>
<p>&lt; Variable to hold the calculated phase difference</p>
<p>&lt; Set the return value to indicate that a target is detected</p>
<p>&lt; Convert phase difference to degrees</p>
<p>&lt; Take the absolute value of the phase difference</p>
<p>&lt; Store the phase difference in the provided pointer</p>
<p>&lt; Return the detection status</p>

</div>
</div>
<a id="a4a31b2be173316c368d393089d460359" name="a4a31b2be173316c368d393089d460359"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4a31b2be173316c368d393089d460359">&#9670;&#160;</a></span>md_set_gndbalance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void md_set_gndbalance </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_d___handle__t.html">MD_Handle_t</a> *const</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t</td>          <td class="paramname"><span class="paramname"><em>new_balance</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the ground balance parameter for metal detection. </p>
<p>This function updates the ground balance value used in target detection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Pointer to the <a class="el" href="struct_m_d___handle__t.html" title="Structure to hold detection parameters and state.">MD_Handle_t</a> structure containing detection parameters. </td></tr>
    <tr><td class="paramname">new_balance</td><td>New ground balance value to be set. </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; Update the ground balance parameter</p>

</div>
</div>
<a id="ac00d2a034daaedfecc56e4a3eae15c61" name="ac00d2a034daaedfecc56e4a3eae15c61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac00d2a034daaedfecc56e4a3eae15c61">&#9670;&#160;</a></span>md_set_sensitivity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void md_set_sensitivity </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct_m_d___handle__t.html">MD_Handle_t</a> *const</td>          <td class="paramname"><span class="paramname"><em>handle</em></span>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint16_t</td>          <td class="paramname"><span class="paramname"><em>new_sens</em></span>&#160;)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sets the sensitivity parameter for metal detection. </p>
<p>This function updates the sensitivity value used in target detection.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">handle</td><td>Pointer to the <a class="el" href="struct_m_d___handle__t.html" title="Structure to hold detection parameters and state.">MD_Handle_t</a> structure containing detection parameters. </td></tr>
    <tr><td class="paramname">new_sens</td><td>New sensitivity value to be set. </td></tr>
  </table>
  </dd>
</dl>
<p>&lt; Update the sensitivity parameter</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_f60fbc6468916523ecfeca29b3541b1e.html">SignalsProcessing</a></li><li class="navelem"><a class="el" href="dir_2de6aaf796cb7e96b85e2aacc036ac38.html">Src</a></li><li class="navelem"><a class="el" href="metal__detecting_8c.html">metal_detecting.c</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.11.0 </li>
  </ul>
</div>
</body>
</html>
